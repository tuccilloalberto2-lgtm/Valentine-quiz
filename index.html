<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Vuoi essere la mia Valentina? üíñ</title>
<style>
body {
font-family: 'Comic Sans MS', Arial, sans-serif;
text-align: center;
height: 100vh;
margin: 0;
display: flex;
flex-direction: column;
justify-content: center;
align-items: center;
background: linear-gradient(120deg, #ff9a9e, #fad0c4);
overflow: hidden;
transition: background 0.5s;
}

h1 {
font-size: 2.5em;
margin-bottom: 50px;
color: #fff;
text-shadow: 2px 2px 4px #00000050;
}

button {
padding: 15px 30px;
font-size: 20px;
margin: 20px;
cursor: pointer;
border: none;
border-radius: 10px;
transition: all 0.2s ease;
position: relative;
}

#yes {
background-color: #ff4d6d;
color: #fff;
}

#no {
background-color: #4d79ff;
color: #fff;
position: absolute;
}

#celebration {
display: none;
flex-direction: column;
justify-content: center;
align-items: center;
height: 100vh;
width: 100%;
background: linear-gradient(120deg, #ff9a9e, #ffdde1);
position: relative;
}

#celebration img {
width: 300px;
max-width: 80%;
height: auto;
margin-bottom: 20px;
z-index: 2;
position: relative;
}

#celebration h1 {
font-size: 3em;
color: #fff;
text-shadow: 2px 2px 4px #00000050;
z-index: 2;
position: relative;
}

#fireworksCanvas {
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
z-index: 1;
pointer-events: none;
}

/* Cuoricini */
.heart {
position: absolute;
font-size: 25px;
color: #ff4d6d;
animation: floatUp 1.5s ease-out forwards;
pointer-events: none;
}

@keyframes floatUp {
0% { opacity: 1; transform: translateY(0) scale(1); }
100% { opacity: 0; transform: translateY(-120px) scale(1.8); }
}
</style>
</head>
<body>

<h1>Vuoi essere la mia Valentina? üíñ</h1>

<button id="yes">S√¨</button>
<button id="no">No</button>

<div id="celebration">
<canvas id="fireworksCanvas"></canvas>
<img id="celebrationGif" src="https://media.giphy.com/media/3o7aD2saalBwwftBIY/giphy.gif" alt="Festa">
<h1>SHIIIII ‚ù§Ô∏è</h1>
</div>

<script>
// Selettori
const noBtn = document.getElementById("no");
const yesBtn = document.getElementById("yes");
const celebration = document.getElementById("celebration");
const celebrationGif = document.getElementById("celebrationGif");
const fireworksCanvas = document.getElementById("fireworksCanvas");
const ctx = fireworksCanvas.getContext("2d");

let noClicks = 0;

// Frasi del pulsante No
const noMessages = [
"Sei sicura? üòè",
"Ancora sicura? üòâ",
"Dai, ripensaci! üòÖ",
"Ok‚Ä¶ ci ripensi davvero? üò¨",
"Ma‚Ä¶ non vuoi proprio? üò≠",
"Ahah, prova ancora! üòé"
];

// Frasi persuasive del pulsante S√¨
const yesMessages = [
"Secondo me dovresti premere qui üòå",
"Guarda che non √® una cattiva idea üò≥",
"Pi√π aspetti, pi√π divento irresistibile üòé",
"Non fare la timida üòÅ",
"Prometto che non te ne pentirai üòå",
"Dai, manca solo un clic üòÑ",
"Sto diventando gigante per te üòÖ"
];

let yesIndex = 0;

// Funzione cuoricini
function spawnHeart() {
const heart = document.createElement("div");
heart.classList.add("heart");
heart.innerText = "‚ù§Ô∏è";

const x = yesBtn.offsetLeft + yesBtn.offsetWidth / 2;
const y = yesBtn.offsetTop;

heart.style.left = x + "px";
heart.style.top = y + "px";

document.body.appendChild(heart);

setTimeout(() => heart.remove(), 1500);
}

// Funzione che ingrandisce il S√¨ e cambia frase
function updateYesButton() {
let currentSize = parseInt(window.getComputedStyle(yesBtn).fontSize);
yesBtn.style.fontSize = (currentSize + 20) + "px";

if (yesIndex < yesMessages.length) {
yesBtn.innerText = yesMessages[yesIndex];
yesIndex++;
} else {
yesBtn.innerText = "Ormai devi premere qui üòÜ";
}

yesBtn.style.transform = "scale(1.2)";
setTimeout(() => yesBtn.style.transform = "scale(1)", 150);

spawnHeart();
}

// Movimento del No
noBtn.addEventListener("mouseover", () => {
const speed = Math.min(400 + noClicks * 70, window.innerWidth / 2);
const x = Math.random() * (window.innerWidth - speed);
const y = Math.random() * (window.innerHeight - 50);
noBtn.style.left = x + "px";
noBtn.style.top = y + "px";

updateYesButton();
});

// Click sul No
noBtn.addEventListener("click", () => {
if (noClicks < noMessages.length) {
noBtn.innerText = noMessages[noClicks];
} else {
noBtn.innerText = "Ok, ci ripenso‚Ä¶ üòÖ";
}
noClicks++;

updateYesButton();
});

// Fuochi d'artificio
function launchFireworks() {
fireworksCanvas.width = window.innerWidth;
fireworksCanvas.height = window.innerHeight;
const particles = [];

function Particle(x, y, color) {
this.x = x;
this.y = y;
this.radius = Math.random() * 3 + 2;
this.color = color;
this.speedX = (Math.random() - 0.5) * 6;
this.speedY = (Math.random() - 0.5) * 6;
this.life = 50;
}

Particle.prototype.update = function() {
this.x += this.speedX;
this.y += this.speedY;
this.life--;
};

Particle.prototype.draw = function() {
ctx.beginPath();
ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
ctx.fillStyle = this.color;
ctx.fill();
};

function animate() {
ctx.clearRect(0, 0, fireworksCanvas.width, fireworksCanvas.height);
particles.forEach((p, i) => {
p.update();
p.draw();
if (p.life <= 0) particles.splice(i, 1);
});
if (particles.length > 0) requestAnimationFrame(animate);
}

for (let i = 0; i < 100; i++) {
const x = Math.random() * fireworksCanvas.width;
const y = Math.random() * fireworksCanvas.height / 2;
const colors = ["#ff4d6d", "#ff3366", "#ff1a75", "#ff6699", "#ff85b3", "#ffd700"];
particles.push(new Particle(x, y, colors[Math.floor(Math.random() * colors.length)]));
}

animate();
}

// Click sul S√¨
yesBtn.addEventListener("click", () => {
yesBtn.style.display = "none";
noBtn.style.display = "none";
document.querySelector("h1").style.display = "none";

celebration.style.display = "flex";
celebrationGif.src = "https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExNzNrcTFxeHVmdndzZDR4d25zZ2JiaWdwa3VwbnBzcWh6NHM4anRyNyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/mRpYh11bLKZlm/giphy.gif";

launchFireworks();
});
</script>

</body>
</html>
